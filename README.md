<h3>Get Maps by Version</h3>

<p>
get_maps_by_version.py: Retrieve and write as .json files all the system support 
maps (ssms) from the ssm database that have a "version" value in the "document"
field that matches command line argument "version."
</p>

<p>Usage:<br>
&nbsp;&nbsp;&nbsp;&nbsp;get_maps_by_version.py version output_directory
</p>

<p>Args:<br>
&nbsp;&nbsp;&nbsp;&nbsp;version: a string that identifies the "version" of one of
the ssm family of websites.
&nbsp;&nbsp;&nbsp;&nbsp;output_directory: a directory into which all the ssm .json files are to be written. If it doesn't exist it will be created.
</p>


<p>
The "SELECT * from maps" statement returns a list of tuples. Each tuple is
an ssm plus its associated metadata and is comprised of the following elements: 

<table>
<tr>
<th>index</th>
<th>type</th>
<th>contents</th>
<th>column name in database</th>
</tr>

<tr>
<td>0</td>
<td>int</td>
<td>map id</td>
<td>id</td>

<tr>
<td>1</td>
<td>int</td>
<td>owner id </td>
<td>owner</td>
</tr>

<tr>
<td>2</td>
<td>dict</td>
<td>the ssm</td>
<td>document</td>
</tr>

<tr>
<td>3</td>
<td>datetime</td>
<td>created timestamp</td>
<td>created_at
</tr>

<tr>
<td>4</td>
<td>datetime</td>
<td>last modified timestamp</td>
<td>modified_at
</tr>

<tr>
<td>5</td>
<td>str</td>
<td>map name</td>
<td>name</td>
</tr>

<table>
</p>

<p>
The tuples in the list are sorted in ascending order of the elements with 
index 4 (last modified timestamp).
</p>

<p>
The element at index 3 in each tuple in the list is a dict which contains
the actual system support map. For our present purposes we're interested only in
those dicts which contain a "schoolLocation" key because only those have been
generated by the website custom-modified for the "Roles in Mental Health Care
within Schools in Connecticut" research study.
</p>

<p>
For each one of those ssms that meets this criterion, print some useful
tracking info to stdout and write the dict to file in .json format.
</p>

<p>
From PostgreSQL database:<br>
&rarr; extract list of tuples<br>
&rarr; examine each tuple of metadata + dict<br>
&rarr; write to file each dict with key "version" the value for which matches
command line argument "version"
</p>

